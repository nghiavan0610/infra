# Connection Settings
listen_addresses = '*'
max_connections = 100

# Memory Settings
shared_buffers = 128MB  # Use ~12.5% of total RAM (1GB)
work_mem = 4MB          # Per query memory allocation
effective_cache_size = 256MB  # Helps PostgreSQL optimize query plans
maintenance_work_mem = 64MB   # Memory for maintenance tasks (vacuum, etc.)

# WAL & Replication Settings
wal_level = replica      # Enable WAL logging for replication
max_wal_senders = 2      # Number of allowed replicas
wal_keep_size = 256MB    # Keep WAL files for streaming replication
synchronous_commit = on  # Ensures data durability
hot_standby = on         # Allow read queries on replica

# Autovacuum Optimization
autovacuum = on
checkpoint_timeout = 10min
checkpoint_completion_target = 0.9