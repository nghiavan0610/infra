# OpenSearch Production Configuration
# =================================
# Note: Security plugin is removed when DISABLE_SECURITY_PLUGIN=true
# For production with security, set OPENSEARCH_DISABLE_SECURITY=false and configure SSL certs

# Cluster settings
cluster.name: opensearch-cluster
node.name: opensearch-node1
node.roles: [cluster_manager, data, ingest]

# Network settings
network.host: 0.0.0.0
http.port: 9200
transport.port: 9300

# Discovery settings (single node)
discovery.type: single-node

# Memory settings
bootstrap.memory_lock: true

# Data and logs paths
path.data: /usr/share/opensearch/data
path.logs: /usr/share/opensearch/logs

# Performance settings
indices.fielddata.cache.size: 40%
indices.memory.index_buffer_size: 30%
indices.memory.min_index_buffer_size: 96mb

# Thread pool settings
thread_pool.write.queue_size: 1000
thread_pool.search.queue_size: 1000

# Circuit breaker settings
indices.breaker.total.limit: 70%
indices.breaker.fielddata.limit: 40%
indices.breaker.request.limit: 40%

# Recovery settings
cluster.routing.allocation.node_concurrent_recoveries: 2
indices.recovery.max_bytes_per_sec: 40mb

# Logging level
logger.level: INFO
