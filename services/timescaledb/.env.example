# =============================================================================
# TimescaleDB Configuration
# =============================================================================
# Copy this file to .env and update the values
# DO NOT commit .env to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# PostgreSQL Admin Credentials
# -----------------------------------------------------------------------------
POSTGRES_USER=postgres
POSTGRES_DB=timeseries

# Generate with: openssl rand -base64 32
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE

# -----------------------------------------------------------------------------
# Network
# -----------------------------------------------------------------------------
# Port 5433 to avoid conflict with regular PostgreSQL (5432)
TIMESCALE_PORT=5433

# -----------------------------------------------------------------------------
# Host (for scripts)
# -----------------------------------------------------------------------------
POSTGRES_HOST=localhost

# =============================================================================
# Connection String Examples:
# =============================================================================
#
# Admin (local):
#   postgresql://postgres:PASSWORD@localhost:5433/timeseries
#
# Admin (Docker internal):
#   postgresql://postgres:PASSWORD@timescaledb:5432/timeseries
#
# Application user (after running create-user.sh):
#   postgresql://metrics_user:PASSWORD@localhost:5433/timeseries?schema=metrics
#
# =============================================================================
# Quick Start After Setup:
# =============================================================================
#
# 1. Create a user:
#    ./scripts/create-user.sh metrics_user "password" metrics
#
# 2. Create a hypertable:
#    CREATE TABLE metrics.readings (
#        time TIMESTAMPTZ NOT NULL,
#        device_id TEXT NOT NULL,
#        temperature DOUBLE PRECISION,
#        humidity DOUBLE PRECISION
#    );
#    SELECT create_hypertable('metrics.readings', 'time');
#
# 3. Enable compression (for data older than 7 days):
#    ./scripts/manage-hypertable.sh compress metrics.readings "7 days"
#
# 4. Enable retention (drop data older than 90 days):
#    ./scripts/manage-hypertable.sh retention metrics.readings "90 days"
#
# =============================================================================
