# =============================================================================
# LangFuse Configuration
# =============================================================================
# Uses shared infrastructure: PostgreSQL, Redis, ClickHouse (optional)
#
# Quick Start:
#   docker compose up -d
#
# With ClickHouse (for better analytics):
#   1. Enable clickhouse in services.conf
#   2. Set LANGFUSE_ENABLE_CLICKHOUSE=true below
#   3. docker compose up -d
# =============================================================================

# -----------------------------------------------------------------------------
# Version Selection
# -----------------------------------------------------------------------------
LANGFUSE_VERSION=2

# -----------------------------------------------------------------------------
# Security (REQUIRED - auto-generated by setup.sh)
# -----------------------------------------------------------------------------
LANGFUSE_NEXTAUTH_SECRET=
LANGFUSE_SALT=

# -----------------------------------------------------------------------------
# PostgreSQL (shared postgres service)
# -----------------------------------------------------------------------------
LANGFUSE_DB_USER=langfuse
LANGFUSE_DB_PASS=
LANGFUSE_DB_NAME=langfuse

# Shared PostgreSQL admin password (from .secrets)
POSTGRES_PASSWORD=

# -----------------------------------------------------------------------------
# Redis (shared redis-cache service)
# -----------------------------------------------------------------------------
LANGFUSE_REDIS_HOST=redis-cache
LANGFUSE_REDIS_PORT=6379
LANGFUSE_REDIS_AUTH=

# -----------------------------------------------------------------------------
# ClickHouse (shared clickhouse service - optional)
# -----------------------------------------------------------------------------
# Set to true to enable ClickHouse integration
LANGFUSE_ENABLE_CLICKHOUSE=false

# When enabled, uses shared clickhouse service:
LANGFUSE_CLICKHOUSE_URL=http://clickhouse:8123
LANGFUSE_CLICKHOUSE_USER=default
LANGFUSE_CLICKHOUSE_PASSWORD=

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
LANGFUSE_PORT=3050
LANGFUSE_URL=http://localhost:3050

# -----------------------------------------------------------------------------
# Authentication
# -----------------------------------------------------------------------------
LANGFUSE_DISABLE_PASSWORD_AUTH=false
LANGFUSE_DISABLE_SIGNUP=false

# -----------------------------------------------------------------------------
# SSO Providers (optional)
# -----------------------------------------------------------------------------
LANGFUSE_GOOGLE_CLIENT_ID=
LANGFUSE_GOOGLE_CLIENT_SECRET=
LANGFUSE_GITHUB_CLIENT_ID=
LANGFUSE_GITHUB_CLIENT_SECRET=

# -----------------------------------------------------------------------------
# S3 Storage for Large Traces (optional - uses shared garage/minio)
# -----------------------------------------------------------------------------
LANGFUSE_S3_BUCKET=
LANGFUSE_S3_ENDPOINT=
LANGFUSE_S3_ACCESS_KEY=
LANGFUSE_S3_SECRET_KEY=
LANGFUSE_S3_REGION=us-east-1

# -----------------------------------------------------------------------------
# Resource Limits
# -----------------------------------------------------------------------------
LANGFUSE_CPU_LIMIT=2
LANGFUSE_MEMORY_LIMIT=2G
LANGFUSE_WORKER_CPU_LIMIT=1
LANGFUSE_WORKER_MEMORY_LIMIT=1G

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LANGFUSE_LOG_LEVEL=info
LANGFUSE_LOG_FORMAT=json
LANGFUSE_TELEMETRY=false

# -----------------------------------------------------------------------------
# Traefik Integration (optional)
# -----------------------------------------------------------------------------
LANGFUSE_TRAEFIK_ENABLE=false
LANGFUSE_DOMAIN=langfuse.example.com
